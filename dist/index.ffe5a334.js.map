{"mappings":"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","sources":["src/index.js"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", () => {\r\n\r\n    class Gallery {\r\n        constructor() {\r\n            this.columns = 5\r\n            this.heightGallery = 0\r\n\r\n            this.items = [...document.querySelectorAll('.gallery__item')]\r\n            this.widthItem = 0\r\n            this.heightItem = 0\r\n\r\n            this.currentItem = null\r\n\r\n            this.listeners()\r\n            this.setItemsWidth()\r\n            this.setItemsPosition()\r\n        }\r\n\r\n        listeners() {\r\n            window.addEventListener('resize', () => {\r\n                this.setItemsWidth()\r\n                this.setItemsPosition()\r\n            })\r\n\r\n            this.items.forEach(item => {\r\n                item.addEventListener('mouseenter', event => {\r\n                    this.currentItem = item\r\n                })\r\n                item.addEventListener('touchstart', event => {\r\n                    this.currentItem = item\r\n                })\r\n            })\r\n\r\n            window.addEventListener('wheel', event => {\r\n                const vector = event.deltaY === 100 ? 1 : 0\r\n\r\n                for (let i = 0; i < this.columns; i++) {\r\n                    const type = this.currentItem.dataset.index\r\n                    const sibling = i + 1 - type\r\n                    let step\r\n\r\n                    switch(sibling) {\r\n                        case 1:\r\n                            step = 32\r\n                            break;\r\n                        case -1:\r\n                            step = 32\r\n                            break;\r\n                        case 2:\r\n                            step = 24\r\n                            break;\r\n                        case -2:\r\n                            step = 24\r\n                            break;\r\n                        case 3:\r\n                            step = 16\r\n                            break;\r\n                        case -3:\r\n                            step = 16\r\n                            break;\r\n                        case 4:\r\n                            step = 8\r\n                            break;\r\n                        case -4:\r\n                            step = 8\r\n                            break;\r\n                    }\r\n\r\n                    if (sibling === 0) {\r\n                        this.moveItems(type, vector)\r\n                    } else {\r\n                        this.moveItems(+type + sibling, vector, step)\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        moveItems(type, vector, step = 40) {\r\n            const groupItems = this.items.filter(item => item.dataset.index == type)\r\n            const end = this.heightGallery - window.innerHeight\r\n\r\n            groupItems.forEach(item => {\r\n                let stop = false\r\n                let y = +item.dataset.currenty\r\n\r\n                if (vector) {\r\n                    let n = 1\r\n                    while (n < step) {\r\n                        if (y <= +item.dataset.starty - end) {\r\n                            y = +item.dataset.starty - end\r\n                            stop = true\r\n                        }\r\n                        n++\r\n                    }\r\n                    if (!stop) y -= step\r\n                } else {\r\n                    let n = 1\r\n                    while (n < step) {\r\n                        if (y >= +item.dataset.starty) {\r\n                            y = +item.dataset.starty\r\n                            stop = true\r\n                        }\r\n                        n++\r\n                    }\r\n                    if (!stop) y += step\r\n                }\r\n\r\n                item.dataset.currenty = +Number(y).toFixed(0)\r\n                item.style.transform = `translate3d(${item.dataset.startx}px, ${y}px, 1px)`\r\n            })\r\n        }\r\n\r\n        setItemsWidth() {\r\n            const screenWidth = window.innerWidth\r\n            this.widthItem = +Number(screenWidth / this.columns).toFixed(0)\r\n\r\n            this.items.forEach(item => {\r\n                item.style.width = `${this.widthItem}px`\r\n            })\r\n\r\n            const image = this.items[0].querySelector('.gallery__image')\r\n            this.heightItem = +Number(image.getBoundingClientRect().height).toFixed(0)\r\n        }\r\n\r\n        setItemsPosition() {\r\n            let modWidth = 0\r\n            let modHeight = 0\r\n            let type = 0\r\n\r\n            this.heightGallery = this.heightItem\r\n\r\n            this.items.forEach((item, index) => {\r\n                ++type\r\n                if (modWidth === this.columns) {\r\n                    this.heightGallery += this.heightItem\r\n                    modWidth = 0\r\n                    ++modHeight\r\n                    type = 1\r\n                }\r\n\r\n                item.dataset.index = type\r\n                item.dataset.startx = +Number(this.widthItem * modWidth).toFixed(0)\r\n                item.dataset.starty = +Number(this.heightItem * modHeight).toFixed(0)\r\n                item.dataset.currenty = +Number(this.heightItem * modHeight).toFixed(0)\r\n                item.style.transform = `translate3d(${this.widthItem * modWidth}px, ${this.heightItem * modHeight}px, 1px)`\r\n\r\n                ++modWidth\r\n            })\r\n        }\r\n    }\r\n\r\n    new Gallery()\r\n});\r\n"],"names":["document","addEventListener","constructor","this","columns","heightGallery","items","querySelectorAll","widthItem","heightItem","currentItem","listeners","setItemsWidth","setItemsPosition","window","forEach","item","event","vector","deltaY","i","type","dataset","index","sibling","step","moveItems","groupItems","filter","end","innerHeight","stop","y","currenty","n","starty","Number","toFixed","style","transform","startx","screenWidth","innerWidth","width","image","querySelector","getBoundingClientRect","height","modWidth","modHeight"],"version":3,"file":"index.ffe5a334.js.map"}