{"mappings":"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","sources":["src/index.js"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", () => {\r\n\r\n    class Gallery {\r\n        constructor() {\r\n            this.columns = 5\r\n            this.heightGallery = 0\r\n\r\n            this.items = [...document.querySelectorAll('.gallery__item')]\r\n\r\n            this.widthItem = 0\r\n            this.heightItem = 0\r\n\r\n            this.widthOpenedItem = 0\r\n            this.heightOpenedItem = 0\r\n\r\n            this.currentItem = this.items[0]\r\n\r\n            this.currentY = 0\r\n            this.wheelMod = 0\r\n\r\n            this.listeners()\r\n\r\n            this.checkScreen()\r\n            this.setItemsWidth()\r\n            this.setItemsPosition()\r\n        }\r\n\r\n        listeners() {\r\n            window.addEventListener('resize', () => {\r\n                this.checkScreen()\r\n                this.setItemsWidth()\r\n                this.setItemsPosition()\r\n            })\r\n\r\n            this.items.forEach(item => {\r\n                item.addEventListener('mouseenter', event => {\r\n                    this.currentItem = item\r\n                    this.setActiveItems(item.dataset.index)\r\n                })\r\n\r\n                item.addEventListener('mouseleave', event => {\r\n                    this.setActiveItems(null)\r\n                })\r\n\r\n                item.addEventListener('touchstart', event => {\r\n                    this.currentItem = item\r\n                    this.setActiveItems(item.dataset.index)\r\n                })\r\n\r\n                item.addEventListener('click', event => {\r\n                    if (!item.classList.contains('--open')) {\r\n                        this.openItems(item.dataset.index)\r\n                    } else {\r\n                        this.closeItems()\r\n                    }\r\n                })\r\n            })\r\n\r\n            window.addEventListener('touchstart', event => {\r\n                this.currentY = event.changedTouches[0].clientY\r\n            })\r\n\r\n            window.addEventListener('touchend', event => {\r\n                this.currentY = 0\r\n            })\r\n\r\n            window.addEventListener('touchmove', event => {\r\n                let range = 0\r\n                let vector = null\r\n                const y = event.changedTouches[0].clientY\r\n\r\n                this.currentY > y ? vector = 1 : vector = 0\r\n\r\n                if (vector) {\r\n                    range = this.currentY - y\r\n                } else {\r\n                    range = y - this.currentY\r\n                }\r\n\r\n                for (let i = 0; i < this.columns; i++) {\r\n                    const type = this.currentItem.dataset.index\r\n                    const sibling = i + 1 - type\r\n                    let step\r\n    \r\n                    switch(sibling) {\r\n                        case 0:\r\n                            step = +Number(+range / 1.5).toFixed(1)\r\n                            break;\r\n                        case 1:\r\n                            step = +Number(+range / 2).toFixed(1)\r\n                            break;\r\n                        case -1:\r\n                            step = +Number(+range / 2).toFixed(1)\r\n                            break;\r\n                        case 2:\r\n                            step = +Number(+range / 2.5).toFixed(1)\r\n                            break;\r\n                        case -2:\r\n                            step = +Number(+range / 2.5).toFixed(1)\r\n                            break;\r\n                        case 3:\r\n                            step = +Number(+range / 3).toFixed(1)\r\n                            break;\r\n                        case -3:\r\n                            step = +Number(+range / 3).toFixed(1)\r\n                            break;\r\n                        case 4:\r\n                            step = +Number(+range / 4).toFixed(1)\r\n                            break;\r\n                        case -4:\r\n                            step = +Number(+range / 4).toFixed(1)\r\n                            break;\r\n                    }\r\n    \r\n                    if (sibling === 0) {\r\n                        this.moveItems(type, vector, step)\r\n                    } else {\r\n                        this.moveItems(+type + sibling, vector, step)\r\n                    }\r\n                }\r\n            })\r\n\r\n            window.addEventListener('wheel', event => {\r\n                ++this.wheelMod\r\n                setTimeout(() => --this.wheelMod, 100)\r\n\r\n                const vector = event.deltaY > 0 ? 1 : 0\r\n\r\n                for (let i = 0; i < this.columns; i++) {\r\n                    const type = this.currentItem.dataset.index\r\n                    const sibling = i + 1 - type\r\n                    let step\r\n    \r\n                    switch(sibling) {\r\n                        case 0:\r\n                            step = 36\r\n                            break;\r\n                        case 1:\r\n                            step = 18\r\n                            break;\r\n                        case -1:\r\n                            step = 18\r\n                            break;\r\n                        case 2:\r\n                            step = 12\r\n                            break;\r\n                        case -2:\r\n                            step = 12\r\n                            break;\r\n                        case 3:\r\n                            step = 9\r\n                            break;\r\n                        case -3:\r\n                            step = 9\r\n                            break;\r\n                        case 4:\r\n                            step = 7\r\n                            break;\r\n                        case -4:\r\n                            step = 7\r\n                            break;\r\n                    }\r\n    \r\n                    if (sibling === 0) {\r\n                        this.moveItems(type, vector, step * this.wheelMod)\r\n                    } else {\r\n                        this.moveItems(+type + sibling, vector, step * this.wheelMod)\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        openItems(index) {\r\n            this.setItemsWidth(index)\r\n            this.setItemsPosition(index)\r\n        }\r\n\r\n        closeItems() {\r\n            this.setItemsWidth()\r\n            this.setItemsPosition()\r\n        }\r\n\r\n        setItemsWidth(index = null) {\r\n            const screenWidth = window.innerWidth\r\n\r\n            this.widthItem = +Number(screenWidth / this.columns).toFixed(1)\r\n            this.widthOpenedItem = +Number(this.widthItem * 1.5).toFixed(1)\r\n\r\n            if (index) {\r\n                this.items.forEach(item => {\r\n                    if (item.dataset.index == index) {\r\n                        item.classList.add('--open')\r\n                        item.style.width = `${this.widthOpenedItem}px`\r\n                    } else {\r\n                        item.classList.remove('--open')\r\n                        item.style.width = `${this.widthItem}px`\r\n                    }\r\n                })\r\n            } else this.items.forEach(item => {\r\n                item.classList.remove('--open')\r\n                item.style.width = `${this.widthItem}px`\r\n            })\r\n        }\r\n\r\n        setItemsPosition(index = null) {\r\n            let modWidth = 0\r\n            let modHeight = 0\r\n            let type = 0\r\n\r\n            const image = this.items[0].querySelector('.gallery__image')\r\n            this.heightItem = this.heightGallery = +Number(image.getBoundingClientRect().height).toFixed(1)\r\n\r\n            this.items.forEach(item => {\r\n\r\n                ++type\r\n                if (modWidth === this.columns) {\r\n                    this.heightGallery += this.heightItem\r\n                    modWidth = 0\r\n                    ++modHeight\r\n                    type = 1\r\n                }\r\n\r\n                item.dataset.index = type\r\n\r\n                if (index && item.dataset.index == index) {\r\n                    const height = +Number(item.getBoundingClientRect().height).toFixed(1)\r\n                    height != this.heightOpenedItem ? this.heightOpenedItem = height : false\r\n\r\n                    item.dataset.starty = +Number(this.heightOpenedItem * modHeight).toFixed(1)\r\n                    item.dataset.currenty = +Number(this.heightOpenedItem * modHeight).toFixed(1)\r\n                    item.style.transform = `translate3d(${this.widthItem * modWidth}px, ${this.heightOpenedItem * modHeight}px, 1px)`\r\n                } else {\r\n                    item.dataset.starty = +Number(this.heightItem * modHeight).toFixed(1)\r\n                    item.dataset.currenty = +Number(this.heightItem * modHeight).toFixed(1)\r\n                    item.style.transform = `translate3d(${this.widthItem * modWidth}px, ${this.heightItem * modHeight}px, 1px)`\r\n                }\r\n\r\n                item.dataset.startx = +Number(this.widthItem * modWidth).toFixed(1)\r\n                \r\n                ++modWidth\r\n            })\r\n        }\r\n\r\n        moveItems(type, vector, step) {\r\n            const groupItems = this.items.filter(item => item.dataset.index == type)\r\n            const end = this.heightGallery - window.innerHeight\r\n\r\n            groupItems.forEach(item => {\r\n                let y = +item.dataset.currenty\r\n\r\n                if (vector) {\r\n                    this.animate(item, {\r\n                        duration: 400,\r\n                        timing: this.makeEaseInOut,\r\n                        draw: function(progress) {\r\n                            const value = +Number(y - step * progress).toFixed(1)\r\n                            if (value <= +item.dataset.starty - end) {\r\n                                item.dataset.currenty = +item.dataset.starty - end\r\n                                item.style.transform = `translate3d(${item.dataset.startx}px, ${+item.dataset.starty - end}px, 1px)`\r\n                            } else {\r\n                                item.dataset.currenty = value\r\n                                item.style.transform = `translate3d(${item.dataset.startx}px, ${value}px, 1px)`\r\n                            }\r\n                        }.bind(this)\r\n                    })\r\n                } else {\r\n                    this.animate(item, {\r\n                        duration: 400,\r\n                        timing: this.makeEaseInOut,\r\n                        draw: function(progress) {\r\n                            const value = +Number(y + step * progress).toFixed(1)\r\n                            if (value >= +item.dataset.starty) {\r\n                                item.dataset.currenty = +item.dataset.starty\r\n                                item.style.transform = `translate3d(${item.dataset.startx}px, ${+item.dataset.starty}px, 1px)`\r\n                            } else {\r\n                                item.dataset.currenty = value\r\n                                item.style.transform = `translate3d(${item.dataset.startx}px, ${value}px, 1px)`\r\n                            }\r\n                        }.bind(this)\r\n                    })\r\n                }\r\n            })\r\n        }\r\n\r\n        animate(el, {timing, draw, duration}) {\r\n    \r\n            let start = performance.now()\r\n    \r\n            requestAnimationFrame(function animate(time) {\r\n                // timeFraction изменяется от 0 до 1\r\n                let timeFraction = (time - start) / duration\r\n                if (timeFraction > 1) timeFraction = 1\r\n            \r\n                // вычисление текущего состояния анимации\r\n                let progress = timing(timeFraction)\r\n            \r\n                draw(progress) // отрисовать её\r\n            \r\n                if (timeFraction < 1) {\r\n                    requestAnimationFrame(animate)\r\n                } else {\r\n                    // finish\r\n                }\r\n            })\r\n        }\r\n\r\n        makeEaseInOut(timeFraction) {\r\n            if (timeFraction < .5)\r\n                return 2 * timeFraction / 2\r\n            else\r\n                return (2 - 2 * (1 - timeFraction)) / 2\r\n        }\r\n\r\n        setActiveItems(index) {\r\n            this.items.forEach(item => {\r\n                item.dataset.index == index ? \r\n                    item.classList.add('--active') : \r\n                    item.classList.remove('--active')\r\n            })\r\n        }\r\n\r\n        checkScreen() {\r\n            const width = window.innerWidth\r\n            if (width >= 1200) {\r\n                this.columns = 5\r\n            } else if (width < 1200 && width >= 1024) {\r\n                this.columns = 4\r\n            } else if (width < 1024 && width >= 768) {\r\n                this.columns = 3\r\n            } else {\r\n                this.columns = 2\r\n            }\r\n        }\r\n    }\r\n\r\n    new Gallery()\r\n})\r\n"],"names":[],"version":3,"file":"index.579125c3.js.map","sourceRoot":"/__parcel_source_root/"}