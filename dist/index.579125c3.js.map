{"mappings":"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","sources":["src/index.js"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", () => {\r\n\r\n    class Gallery {\r\n        constructor() {\r\n            this.columns = 5\r\n            this.heightGallery = 0\r\n\r\n            this.items = [...document.querySelectorAll('.gallery__item')]\r\n            this.widthItem = 0\r\n            this.heightItem = 0\r\n\r\n            this.currentItem = null\r\n\r\n            this.listeners()\r\n            this.setItemsWidth()\r\n            this.setItemsPosition()\r\n        }\r\n\r\n        listeners() {\r\n            window.addEventListener('resize', () => {\r\n                this.setItemsWidth()\r\n                this.setItemsPosition()\r\n            })\r\n\r\n            this.items.forEach(item => {\r\n                item.addEventListener('mouseenter', event => {\r\n                    this.currentItem = item\r\n                })\r\n                item.addEventListener('touchstart', event => {\r\n                    this.currentItem = item\r\n                })\r\n            })\r\n\r\n            window.addEventListener('wheel', event => {\r\n                const vector = event.deltaY === 100 ? 1 : 0\r\n\r\n                for (let i = 0; i < this.columns; i++) {\r\n                    const type = this.currentItem.dataset.index\r\n                    const sibling = i + 1 - type\r\n                    let step\r\n\r\n                    switch(sibling) {\r\n                        case 1:\r\n                            step = 32\r\n                            break;\r\n                        case -1:\r\n                            step = 32\r\n                            break;\r\n                        case 2:\r\n                            step = 24\r\n                            break;\r\n                        case -2:\r\n                            step = 24\r\n                            break;\r\n                        case 3:\r\n                            step = 16\r\n                            break;\r\n                        case -3:\r\n                            step = 16\r\n                            break;\r\n                        case 4:\r\n                            step = 8\r\n                            break;\r\n                        case -4:\r\n                            step = 8\r\n                            break;\r\n                    }\r\n\r\n                    if (sibling === 0) {\r\n                        this.moveItems(type, vector)\r\n                    } else {\r\n                        this.moveItems(+type + sibling, vector, step)\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        moveItems(type, vector, step = 40) {\r\n            const groupItems = this.items.filter(item => item.dataset.index == type)\r\n            const end = this.heightGallery - window.innerHeight\r\n\r\n            groupItems.forEach(item => {\r\n                let stop = false\r\n                let y = +item.dataset.currenty\r\n\r\n                if (vector) {\r\n                    let n = 1\r\n                    while (n < step) {\r\n                        if (y <= +item.dataset.starty - end) {\r\n                            y = +item.dataset.starty - end\r\n                            stop = true\r\n                        }\r\n                        n++\r\n                    }\r\n                    if (!stop) y -= step\r\n                } else {\r\n                    let n = 1\r\n                    while (n < step) {\r\n                        if (y >= +item.dataset.starty) {\r\n                            y = +item.dataset.starty\r\n                            stop = true\r\n                        }\r\n                        n++\r\n                    }\r\n                    if (!stop) y += step\r\n                }\r\n\r\n                item.dataset.currenty = +Number(y).toFixed(0)\r\n                item.style.transform = `translate3d(${item.dataset.startx}px, ${y}px, 1px)`\r\n            })\r\n        }\r\n\r\n        setItemsWidth() {\r\n            const screenWidth = window.innerWidth\r\n            this.widthItem = +Number(screenWidth / this.columns).toFixed(0)\r\n\r\n            this.items.forEach(item => {\r\n                item.style.width = `${this.widthItem}px`\r\n            })\r\n\r\n            const image = this.items[0].querySelector('.gallery__image')\r\n            this.heightItem = +Number(image.getBoundingClientRect().height).toFixed(0)\r\n        }\r\n\r\n        setItemsPosition() {\r\n            let modWidth = 0\r\n            let modHeight = 0\r\n            let type = 0\r\n\r\n            this.heightGallery = this.heightItem\r\n\r\n            this.items.forEach((item, index) => {\r\n                ++type\r\n                if (modWidth === this.columns) {\r\n                    this.heightGallery += this.heightItem\r\n                    modWidth = 0\r\n                    ++modHeight\r\n                    type = 1\r\n                }\r\n\r\n                item.dataset.index = type\r\n                item.dataset.startx = +Number(this.widthItem * modWidth).toFixed(0)\r\n                item.dataset.starty = +Number(this.heightItem * modHeight).toFixed(0)\r\n                item.dataset.currenty = +Number(this.heightItem * modHeight).toFixed(0)\r\n                item.style.transform = `translate3d(${this.widthItem * modWidth}px, ${this.heightItem * modHeight}px, 1px)`\r\n\r\n                ++modWidth\r\n            })\r\n        }\r\n    }\r\n\r\n    new Gallery()\r\n});\r\n"],"names":[],"version":3,"file":"index.579125c3.js.map","sourceRoot":"/__parcel_source_root/"}