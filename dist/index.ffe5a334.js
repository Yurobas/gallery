document.addEventListener("DOMContentLoaded",(()=>{new class{constructor(){this.columns=5,this.heightGallery=0,this.items=[...document.querySelectorAll(".gallery__item")],this.widthItem=0,this.heightItem=0,this.currentItem=null,this.listeners(),this.setItemsWidth(),this.setItemsPosition()}listeners(){window.addEventListener("resize",(()=>{this.setItemsWidth(),this.setItemsPosition()})),this.items.forEach((t=>{t.addEventListener("mouseenter",(e=>{this.currentItem=t})),t.addEventListener("touchstart",(e=>{this.currentItem=t}))})),window.addEventListener("wheel",(t=>{const e=100===t.deltaY?1:0;for(let t=0;t<this.columns;t++){const s=this.currentItem.dataset.index,i=t+1-s;let h;switch(i){case 1:case-1:h=32;break;case 2:case-2:h=24;break;case 3:case-3:h=16;break;case 4:case-4:h=8}0===i?this.moveItems(s,e):this.moveItems(+s+i,e,h)}}))}moveItems(t,e,s=40){const i=this.items.filter((e=>e.dataset.index==t)),h=this.heightGallery-window.innerHeight;i.forEach((t=>{let i=!1,a=+t.dataset.currenty;if(e){let e=1;for(;e<s;)a<=+t.dataset.starty-h&&(a=+t.dataset.starty-h,i=!0),e++;i||(a-=s)}else{let e=1;for(;e<s;)a>=+t.dataset.starty&&(a=+t.dataset.starty,i=!0),e++;i||(a+=s)}t.dataset.currenty=+Number(a).toFixed(0),t.style.transform=`translate3d(${t.dataset.startx}px, ${a}px, 1px)`}))}setItemsWidth(){const t=window.innerWidth;this.widthItem=+Number(t/this.columns).toFixed(0),this.items.forEach((t=>{t.style.width=`${this.widthItem}px`}));const e=this.items[0].querySelector(".gallery__image");this.heightItem=+Number(e.getBoundingClientRect().height).toFixed(0)}setItemsPosition(){let t=0,e=0,s=0;this.heightGallery=this.heightItem,this.items.forEach(((i,h)=>{++s,t===this.columns&&(this.heightGallery+=this.heightItem,t=0,++e,s=1),i.dataset.index=s,i.dataset.startx=+Number(this.widthItem*t).toFixed(0),i.dataset.starty=+Number(this.heightItem*e).toFixed(0),i.dataset.currenty=+Number(this.heightItem*e).toFixed(0),i.style.transform=`translate3d(${this.widthItem*t}px, ${this.heightItem*e}px, 1px)`,++t}))}}}));
//# sourceMappingURL=index.ffe5a334.js.map
